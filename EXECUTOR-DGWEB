javascript:(()=>{
  if(document.getElementById('dgweb-executor-panel')){
    alert('DG WEB Executor já está aberto!');
    return;
  }

  openExecutor();

  function openExecutor(){
    const panel=document.createElement('div');
    panel.id='dgweb-executor-panel';
    Object.assign(panel.style,{
      position:'fixed',top:'0',left:'0',
      width:'100vw',height:'100vh',
      background:'black',border:'4px solid red',
      boxSizing:'border-box',
      boxShadow:'0 0 15px red',zIndex:'9999999',
      fontFamily:'monospace',color:'red',
      display:'flex',flexDirection:'column'
    });

    // Header container (título + botão executar)
    const header=document.createElement('div');
    Object.assign(header.style,{
      display:'flex',flexDirection:'column',
      alignItems:'center',
      padding:'10px 16px',borderBottom:'2px solid red'
    });

    const title=document.createElement('div');
    title.textContent='DG WEB EXECUTOR';
    title.style.fontWeight='bold';
    title.style.fontSize='22px';
    title.style.marginBottom = '10px';
    header.appendChild(title);

    // Botão executar logo abaixo do título
    const btnExec=document.createElement('button');
    btnExec.textContent='Executar';
    Object.assign(btnExec.style,{
      background:'red',color:'black',border:'none',fontWeight:'bold',
      cursor:'pointer',padding:'10px 20px',fontSize:'18px',borderRadius:'6px',
      width:'150px',marginBottom:'10px'
    });
    btnExec.onclick=()=>{
      try{
        eval(textarea.value);
      }catch(e){
        alert('Erro ao executar script:\n'+e);
      }
    };
    header.appendChild(btnExec);

    panel.appendChild(header);

    // Caixa de texto (textarea)
    const textarea=document.createElement('textarea');
    Object.assign(textarea.style,{
      flex:'1',resize:'none',background:'black',color:'red',
      border:'2px solid red',padding:'16px',fontSize:'16px',
      fontFamily:'monospace',outline:'none',width:'100%',
      boxSizing:'border-box'
    });
    panel.appendChild(textarea);

    // Botões minimizar e fechar no canto superior direito
    const buttonsContainer=document.createElement('div');
    Object.assign(buttonsContainer.style,{
      position: 'fixed',
      top: '10px',
      right: '10px',
      display:'flex',
      gap:'8px',
      zIndex:'10000000'
    });

    const btnMin=document.createElement('button');
    btnMin.textContent='−';
    Object.assign(btnMin.style,{
      background:'red',color:'black',border:'none',fontWeight:'bold',
      cursor:'pointer',width:'32px',height:'32px',borderRadius:'6px',
      fontSize:'22px'
    });
    btnMin.title = 'Minimizar';
    btnMin.onclick=()=>{
      panel.style.display='none';
      btnMax.style.display='flex';
    };

    const btnClose=document.createElement('button');
    btnClose.textContent='×';
    Object.assign(btnClose.style,{
      background:'red',color:'black',border:'none',fontWeight:'bold',
      cursor:'pointer',width:'32px',height:'32px',borderRadius:'6px',
      fontSize:'22px'
    });
    btnClose.title = 'Fechar';
    btnClose.onclick=()=>{
      panel.remove();
      btnMax.remove();
      buttonsContainer.remove();
    };

    buttonsContainer.appendChild(btnMin);
    buttonsContainer.appendChild(btnClose);
    document.body.appendChild(buttonsContainer);

    // Botão maximizar para painel minimizado
    const btnMax=document.createElement('button');
    btnMax.textContent='DG';
    Object.assign(btnMax.style,{
      position:'fixed',top:'10px',right:'10px',width:'42px',height:'42px',
      borderRadius:'50%',background:'red',color:'black',fontWeight:'bold',
      border:'none',cursor:'pointer',fontSize:'22px',display:'none',
      alignItems:'center',justifyContent:'center',zIndex:'99999999'
    });
    btnMax.title = 'Maximizar executor';
    btnMax.onclick=()=>{
      panel.style.display='flex';
      btnMax.style.display='none';
    };
    document.body.appendChild(btnMax);

    document.body.appendChild(panel);
  }
})();
